<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="{{ url_for('static', filename='main.css') }}">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>

          <!-- Bootstrap -->
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>
  
    <div class="box">
      <div class="container-2">
          <input id="searchTextField" type="text" size="50" class="search" onkeydown="search(this)"
              placeholder="Enter a location..." autocomplete="on" runat="server" onfocus="this.placeholder = ''"
              onblur="this.placeholder = 'Enter a location...'" />
      </div>
      <label class="dropdown">

          <div id="country-button" class="dd-button">
              Country
          </div>
          <input type="checkbox" class="dd-input" id="test">
          <ul class="dd-menu">
              <table id="country-list">

                  <td>Argentina</td>
                  <td>Australia</td>
                  <td>Austria</td>
                  <td>Bahrain</td>
                  <td>Belgium</td>
                  <td>Brazil</td>
                  <td>Canada</td>
                  </tr>

                  <tr>
                      <td>Chile</td>
                      <td>China</td>
                      <td>Colombia</td>
                      <td>Costa Rica</td>
                      <td>Czech Republic</td>
                      <td>Denmark</td>
                      <td>Ecuador</td>
                  </tr>

                  <tr>
                      <td>Egypt</td>
                      <td>Finland</td>
                      <td>France</td>
                      <td>Germany</td>
                      <td>Greece</td>
                      <td>Hong Kong</td>
                      <td>Hungary</td>
                  </tr>

                  <tr>
                      <td>India</td>
                      <td>Indonesia</td>
                      <td>Ireland</td>
                      <td>Israel</td>
                      <td>Italy</td>
                      <td>Japan</td>
                      <td>Kuwait</td>
                  </tr>

                  <tr>
                      <td>Luxembourg</td>
                      <td>Malaysia</td>
                      <td>Mexico</td>
                      <td>Morocco</td>
                      <td>Netherlands</td>
                      <td>New Zealand</td>
                      <td>Nigeria</td>
                  </tr>

                  <tr>
                      <td>Norway</td>
                      <td>Oman</td>
                      <td>Pakistan</td>
                      <td>Panama</td>
                      <td>Peru</td>
                      <td>Philippines</td>
                      <td>Poland</td>
                  </tr>

                  <tr>
                      <td>Portugal</td>
                      <td>Qatar</td>
                      <td>Romania</td>
                      <td>Russia</td>
                      <td>Saudi Arabia</td>
                      <td>Singapore</td>
                      <td>South Africa</td>
                  </tr>

                  <tr>
                      <td>South Korea</td>
                      <td>Spain</td>
                      <td>Sweden</td>
                      <td>Switzerland</td>
                      <td>Taiwan</td>
                      <td>Thailand</td>
                      <td>Turkey</td>
                  </tr>

                  <tr>

                      <td>Ukraine</td>
                      <td>United Arab Emirates</td>
                      <td>United Kingdom</td>
                      <td>United States</td>
                      <td>Uruguay</td>
                      <td>Venezuela</td>
                      <td>Vietnam</td>
                  </tr>
              </table>
          </ul>
      </label>

  <script>
      $("td").click(function () {
          var country_selection = ($(this).text());
          console.log(country_selection);
          document.getElementById("country-button").innerHTML = country_selection.toString();

          // POST
          fetch('/country-list', {

              // Specify the method
              method: 'POST',

              // JSON
              headers: {
                  'Content-Type': 'application/json'
              },

              // A JSON payload
              body: JSON.stringify({
                  'country_select': country_selection
              })
          }).then(function (response) { // At this point, Flask has printed our JSON
              return response.text();
          }).then(function (text) {

              console.log('POST response: ');

              // Should be 'OK' if everything was successful
              console.log(text);
          });

      });

  </script>

  <script>

      function search(ele) {

          if (event.key == 'Enter') {
              // POST

              var search_location = ele.value;
              fetch('/searchTextField', {

                  // Specify the method
                  method: 'POST',

                  // JSON
                  headers: {
                      'Content-Type': 'application/json'
                  },

                  // A JSON payload
                  body: JSON.stringify({
                      'search_location': search_location
                  })
              }).then(function (response) { // At this point, Flask has printed our JSON
                  return response.text();
              }).then(function (text) {

                  console.log('POST response: ');

                  // Should be 'OK' if everything was successful
                  console.log(text);
              });
          }
      }
  </script>


    <div class="container-fluid">
      <!-- Example row of columns -->
      <div class="row">

          <div class="container-fluid" id="data-container"></div>

        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

</body>
<script src="https://cdn.jsdelivr.net/npm/places.js@1.16.4"></script>
<script type="text/javascript"
  src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD-eMIbcjRzXUlbvWRoDLRET9eK2q_5GT8&libraries=places"></script>
<script>
  function initialize() {
      var input = document.getElementById('searchTextField');
      var autocomplete = new google.maps.places.Autocomplete(input);
      google.maps.event.addListener(autocomplete, 'place_changed', function () {
          var place = autocomplete.getPlace();
      });
  }
  google.maps.event.addDomListener(window, 'load', initialize);
</script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
    <script src="http://code.highcharts.com/highcharts.js"></script>
    <script src="http://code.highcharts.com/highcharts-more.js"></script>
    <script src="http://code.highcharts.com/modules/exporting.js"></script>

    <script src="/static/js/highcharts.js"></script>

    <!-- Latest compiled and minified JavaScript -->
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
  </body>
</html>
